(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{142:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/immer-4002b3fd2cfd3aa66c62ecc525663c0d.png"},85:function(e,t,a){"use strict";a.r(t),a.d(t,"frontMatter",(function(){return o})),a.d(t,"metadata",(function(){return c})),a.d(t,"toc",(function(){return l})),a.d(t,"default",(function(){return s}));var r=a(3),n=a(7),i=(a(0),a(99)),o={id:"introduction",title:"Introduction to Immer",sidebar_label:"Introduction",slug:"/"},c={unversionedId:"introduction",id:"introduction",isDocsHomePage:!1,title:"Introduction to Immer",description:"Immer",source:"@site/docs/introduction.md",slug:"/",permalink:"/immer/",editUrl:"https://github.com/immerjs/immer/edit/master/website/docs/introduction.md",version:"current",sidebar_label:"Introduction",sidebar:"Immer",next:{title:"Installation",permalink:"/immer/installation"}},l=[{value:"Quick Example",id:"quick-example",children:[]},{value:"Benefits",id:"benefits",children:[]}],m={toc:l};function s(e){var t=e.components,o=Object(n.a)(e,["components"]);return Object(i.b)("wrapper",Object(r.a)({},m,o,{components:t,mdxType:"MDXLayout"}),Object(i.b)("center",null,Object(i.b)("div",{"data-ea-publisher":"immerjs","data-ea-type":"image",class:"horizontal bordered"})),Object(i.b)("img",{src:"/immer/img/immer-logo.svg",height:"200px",align:"right"}),Object(i.b)("h1",{id:"immer"},"Immer"),Object(i.b)("p",null,'Winner of the "Breakthrough of the year" ',Object(i.b)("a",{parentName:"p",href:"https://osawards.com/react/"},"React open source award"),' and "Most impactful contribution" ',Object(i.b)("a",{parentName:"p",href:"https://osawards.com/javascript/"},"JavaScript open source award")," in 2019."),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Introduction blogpost: ",Object(i.b)("a",{parentName:"li",href:"https://medium.com/@mweststrate/introducing-immer-immutability-the-easy-way-9d73d8f71cb3"},"Immer: Immutability the easy way")),Object(i.b)("li",{parentName:"ul"},"Short Egghead.io lesson covering the Immer essentials: ",Object(i.b)("a",{parentName:"li",href:"https://egghead.io/lessons/redux-simplify-creating-immutable-data-trees-with-immer"},"Simplify creating immutable data trees with Immer (7m)")),Object(i.b)("li",{parentName:"ul"},"Free in-depth Egghead.io course: ",Object(i.b)("a",{parentName:"li",href:"https://egghead.io/courses/immutable-javascript-data-structures-with-immer"},"Immutable JavaScript Data Structures with Immer (58m)"))),Object(i.b)("hr",null),Object(i.b)("p",null,"Immer (German for: always) is a tiny package that allows you to work with immutable state in a more convenient way. It is based on the ",Object(i.b)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Copy-on-write"},Object(i.b)("em",{parentName:"a"},"copy-on-write"))," mechanism."),Object(i.b)("p",null,"The basic idea is that you will apply all your changes to a temporary ",Object(i.b)("em",{parentName:"p"},"draftState"),", which is a proxy of the ",Object(i.b)("em",{parentName:"p"},"currentState"),". Once all your mutations are completed, Immer will produce the ",Object(i.b)("em",{parentName:"p"},"nextState")," based on the mutations to the draft state. This means that you can interact with your data by simply modifying it while keeping all the benefits of immutable data."),Object(i.b)("p",null,Object(i.b)("img",{alt:"immer-hd.png",src:a(142).default})),Object(i.b)("p",null,"Using Immer is like having a personal assistant. The assistant takes a letter (the current state) and gives you a copy (draft) to jot changes onto. Once you are done, the assistant will take your draft and produce the real immutable, final letter for you (the next state)."),Object(i.b)("h2",{id:"quick-example"},"Quick Example"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'import produce from "immer"\n\nconst baseState = [\n    {\n        todo: "Learn typescript",\n        done: true\n    },\n    {\n        todo: "Try immer",\n        done: false\n    }\n]\n\nconst nextState = produce(baseState, draftState => {\n    draftState.push({todo: "Tweet about it"})\n    draftState[1].done = true\n})\n')),Object(i.b)("p",null,"The interesting thing about Immer is that the ",Object(i.b)("inlineCode",{parentName:"p"},"baseState")," will be untouched, but the ",Object(i.b)("inlineCode",{parentName:"p"},"nextState")," will be a new immutable tree that reflects all changes made to ",Object(i.b)("inlineCode",{parentName:"p"},"draftState")," (and structurally sharing the things that weren't changed)."),Object(i.b)("p",null,"Head to the ",Object(i.b)("a",{parentName:"p",href:"produce"},"next section")," to further dive into ",Object(i.b)("inlineCode",{parentName:"p"},"produce"),"."),Object(i.b)("h2",{id:"benefits"},"Benefits"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},"Immutability with normal JavaScript objects, arrays, Sets and Maps. No new APIs to learn!"),Object(i.b)("li",{parentName:"ul"},"Strongly typed, no string based paths selectors etc."),Object(i.b)("li",{parentName:"ul"},"Structural sharing out of the box"),Object(i.b)("li",{parentName:"ul"},"Object freezing out of the box"),Object(i.b)("li",{parentName:"ul"},"Deep updates are a breeze"),Object(i.b)("li",{parentName:"ul"},"Boilerplate reduction. Less noise, more concise code."),Object(i.b)("li",{parentName:"ul"},"First class support for patches"),Object(i.b)("li",{parentName:"ul"},"Small: 3KB gzipped")))}s.isMDXComponent=!0},99:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"b",(function(){return d}));var r=a(0),n=a.n(r);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function c(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var m=n.a.createContext({}),s=function(e){var t=n.a.useContext(m),a=t;return e&&(a="function"==typeof e?e(t):c(c({},t),e)),a},u=function(e){var t=s(e.components);return n.a.createElement(m.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},b=n.a.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,o=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),u=s(a),b=r,d=u["".concat(o,".").concat(b)]||u[b]||p[b]||i;return a?n.a.createElement(d,c(c({ref:t},m),{},{components:a})):n.a.createElement(d,c({ref:t},m))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,o=new Array(i);o[0]=b;var c={};for(var l in t)hasOwnProperty.call(t,l)&&(c[l]=t[l]);c.originalType=e,c.mdxType="string"==typeof e?e:r,o[1]=c;for(var m=2;m<i;m++)o[m]=a[m];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,a)}b.displayName="MDXCreateElement"}}]);